import{g as j,$ as C,S as q,a as O}from"./swiper.min.a0bdc2ae.js";import{_ as D,r as k,o as u,c as g,f as S,v as B,a,t as m,b as N,F as I,h as F,d as z,w as $,p as U,g as L,i as T}from"./index.d414d31a.js";import{b as A,c as _,f as V}from"./index.42ee95ae.js";function H(r,e,p,l){const i=j();return r.params.createElements&&Object.keys(l).forEach(n=>{if(!p[n]&&p.auto===!0){let o=r.$el.children(`.${l[n]}`)[0];o||(o=i.createElement("div"),o.className=l[n],r.$el.append(o)),p[n]=o,e[n]=o}}),p}function M(r){let{swiper:e,extendParams:p,on:l,emit:i}=r;p({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock"}}),e.navigation={nextEl:null,$nextEl:null,prevEl:null,$prevEl:null};function n(s){let t;return s&&(t=C(s),e.params.uniqueNavElements&&typeof s=="string"&&t.length>1&&e.$el.find(s).length===1&&(t=e.$el.find(s))),t}function o(s,t){const d=e.params.navigation;s&&s.length>0&&(s[t?"addClass":"removeClass"](d.disabledClass),s[0]&&s[0].tagName==="BUTTON"&&(s[0].disabled=t),e.params.watchOverflow&&e.enabled&&s[e.isLocked?"addClass":"removeClass"](d.lockClass))}function h(){if(e.params.loop)return;const{$nextEl:s,$prevEl:t}=e.navigation;o(t,e.isBeginning&&!e.params.rewind),o(s,e.isEnd&&!e.params.rewind)}function c(s){s.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&e.slidePrev()}function x(s){s.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&e.slideNext()}function E(){const s=e.params.navigation;if(e.params.navigation=H(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(s.nextEl||s.prevEl))return;const t=n(s.nextEl),d=n(s.prevEl);t&&t.length>0&&t.on("click",x),d&&d.length>0&&d.on("click",c),Object.assign(e.navigation,{$nextEl:t,nextEl:t&&t[0],$prevEl:d,prevEl:d&&d[0]}),e.enabled||(t&&t.addClass(s.lockClass),d&&d.addClass(s.lockClass))}function y(){const{$nextEl:s,$prevEl:t}=e.navigation;s&&s.length&&(s.off("click",x),s.removeClass(e.params.navigation.disabledClass)),t&&t.length&&(t.off("click",c),t.removeClass(e.params.navigation.disabledClass))}l("init",()=>{E(),h()}),l("toEdge fromEdge lock unlock",()=>{h()}),l("destroy",()=>{y()}),l("enable disable",()=>{const{$nextEl:s,$prevEl:t}=e.navigation;s&&s[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass),t&&t[e.enabled?"removeClass":"addClass"](e.params.navigation.lockClass)}),l("click",(s,t)=>{const{$nextEl:d,$prevEl:v}=e.navigation,f=t.target;if(e.params.navigation.hideOnClick&&!C(f).is(v)&&!C(f).is(d)){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===f||e.pagination.el.contains(f)))return;let w;d?w=d.hasClass(e.params.navigation.hiddenClass):v&&(w=v.hasClass(e.params.navigation.hiddenClass)),i(w===!0?"navigationShow":"navigationHide"),d&&d.toggleClass(e.params.navigation.hiddenClass),v&&v.toggleClass(e.params.navigation.hiddenClass)}}),Object.assign(e.navigation,{update:h,init:E,destroy:y})}var P="/images/back.png";const W={components:{Swiper:q,SwiperSlide:O},data(){return{showBox:!0,hash:"",box:0,selected:{name:"",no:""},species:[],show:[],modules:[M],wallet:{address:""},contract:null,provider:null,lottery:{flag:!1,amount:0,pow:0,no:0}}},watch:{"wallet.address"(){this.contract=A(this.provider.eth.Contract,"defi"),this.showBox=!1,this.openLottery()}},mounted(){let r=50,e=this;setTimeout(function p(){if(!window.ethereum)return--r>0?setTimeout(p,100):null;e.provider=new Web3(window.ethereum),ethereum.request({method:"eth_requestAccounts"}).then(l=>{e.wallet.address=l[0]})},100),this.$route.query.h&&(this.hash=this.$route.query.h,this.box=this.$route.query.s==0?1:this.$route.query.s)},methods:{onSlideChange(r){this.selected=this.species[r.activeIndex]},openLottery(){let r=function(l,i){var n=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];n[i]=n[n.length-1];for(var o=[],h=1;h<l+1;h++){var c=Math.floor(Math.random()*(n.length-h));o.push(n[c]),n[c]=n[n.length-h-1]}return o};for(var e=r(3,parseInt(this.hash,16)),p=0;p<3;p++)this.show.push({no:e[p],pic:e[p]+".png",name:_.species[e[p]]});this.contract.methods.user(this.wallet.address).call().then(l=>{if(console.log(l),this.lottery={amount:parseFloat(V(this.provider.utils,l.last.amount)).toFixed(2),flag:l.last.flag,rate:l.last.rate},this.lottery.flag){var i=parseInt(this.hash,16);this.species.push({no:i,pic:i+".png",name:_.species[i]}),this.selected.no=i.toString(16).toUpperCase(),this.selected.name=this.species[i],this.lottery.pow=this.lottery.amount*this.lottery.rate/100;for(var n=r(this.box-1,parseInt(this.hashcode,16)),o=0;o<this.box-1;o++)this.species.push({no:n[o].toString(16).toUpperCase(),pic:n[o]+".png",name:_.species[n[o]]})}else{var h=r(this.box,parseInt(this.hash,16));for(let c=0;c<this.box;c++)this.species.push({no:h[c].toString(16).toUpperCase(),pic:h[c]+".png",name:_.species[h[c]]});this.selected.no=this.species[0].no.toString(16).toUpperCase(),this.selected.name=this.species[0].name,this.lottery.pow=this.lottery.amount*.95}})}}},b=r=>(U("data-v-769693db"),r=r(),L(),r),G={style:{height:"100%"}},J={class:"outcomeBox"},K={class:"long longuclass drawaprize"},Q=b(()=>a("div",{class:"Side"},null,-1)),R={class:"home-box"},X=b(()=>a("div",{class:"top posrelative"},[a("a",{href:"/",class:"measureBtn-right router-link-active"},[a("img",{src:P,alt:""})])],-1)),Y={class:"zj-box"},Z={class:"zj-left"},ee={class:"font40"},se=b(()=>a("div",null,"\u54C8\u5E0C\u5C3E\u6578",-1)),te={class:"zj-in"},ie={key:0},ne={key:1},ae={class:"zj-right"},oe={class:"dong-bg"},le={class:"botm-long"},re={class:"botm-long-scroll"},ce={class:"long-txt"},de=["src"],pe={class:"swiper-box"},he=["src"];function ue(r,e,p,l,i,n){const o=k("swiper-slide"),h=k("swiper");return u(),g("div",G,[S(a("div",J,null,512),[[B,i.showBox]]),S(a("div",K,[Q,a("div",R,[X,a("div",Y,[a("div",Z,[a("div",ee,m(i.hash),1),se]),a("div",te,[a("div",null,"\u4F60\u9078\u64C7\u4E86 "+m(i.selected.name),1),i.lottery.flag?(u(),g("div",ie,"\u7372\u5F97\u734E\u91D1 "+m(parseFloat(i.lottery.pow).toFixed(2))+" SEA",1)):N("",!0),i.lottery.flag?N("",!0):(u(),g("div",ne,"\u7372\u5F97 "+m(parseFloat(i.lottery.pow).toFixed(2))+"\u500BSEA\u7926\u6A5F\u7B97\u529B",1))]),a("div",ae,[a("div",null,m(i.selected.no),1)])])]),a("div",oe,[a("div",le,[a("div",re,[(u(!0),g(I,null,F(i.show,c=>(u(),g("div",{class:"botm-long-item",key:c.no},[a("div",ce,m(c.name),1),a("img",{src:"/images/"+c.pic},null,8,de)]))),128))])]),a("div",pe,[z(h,{modules:i.modules,"slides-per-view":1,navigation:!0,onSlideChange:n.onSlideChange},{default:$(()=>[(u(!0),g(I,null,F(i.species,c=>(u(),T(o,{key:c.no},{default:$(()=>[a("img",{src:"/images/"+c.pic},null,8,he)]),_:2},1024))),128))]),_:1},8,["modules","onSlideChange"])])])],512),[[B,!i.showBox]])])}var fe=D(W,[["render",ue],["__scopeId","data-v-769693db"]]);export{fe as default};
